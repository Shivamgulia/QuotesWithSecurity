(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[5],{168:function(e,t){},170:function(e,t){},182:function(e,t){},184:function(e,t){},209:function(e,t){},211:function(e,t){},212:function(e,t){},217:function(e,t){},219:function(e,t){},225:function(e,t){},227:function(e,t){},246:function(e,t){},258:function(e,t){},261:function(e,t){},264:function(e,t,n){e.exports={auth:"AuthForm_auth__2ZSKH",control:"AuthForm_control__1evQ4",actions:"AuthForm_actions__25Vmz",toggle:"AuthForm_toggle__1Wxr6"}},269:function(e,t,n){"use strict";n.r(t);var c=n(45),r=n(15),o=n(46),a=n.n(o),s=n(0),i=n(2),u=n(161),l=n.n(u),j=n(10),h=n(264),m=n.n(h),f=n(1),b=function(){var e=Object(i.h)(),t=Object(s.useState)(!1),n=Object(r.a)(t,2),o=n[0],u=n[1],h=Object(s.useContext)(j.b),b=Object(s.useRef)(),d=Object(s.useRef)(),p=Object(s.useRef)(),O=Object(s.useRef)(),x=Object(s.useState)(!0),g=Object(r.a)(x,2),w=g[0],N=g[1],v=Object(s.useState)(!1),y=Object(r.a)(v,2),S=y[0],_=y[1];function k(){return(k=Object(c.a)(a.a.mark((function t(n){var c,r,o,s,i,u,j,m,f;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c=b.current.value,r=d.current.value,w){t.next=17;break}return s=p.current.value,i=O.current.value,u=l.a.hashSync(r,10),o='http"//ec2-13-233-232-148.ap-south-1.compute.amazonaws.com:8080/v1/signup',j={firstName:s,lastName:i,userName:c,password:u,roles:[5]},t.next=11,fetch(o,{method:"POST",body:JSON.stringify(j),headers:{"Content-Type":"application/json"}});case 11:return m=t.sent,t.next=14,m.json();case 14:if(f=t.sent,m.ok){t.next=17;break}throw new Error(f.message||"Could not add comment.");case 17:_(!0),o="http://ec2-13-233-232-148.ap-south-1.compute.amazonaws.com:8080/api/v1/auth/login",fetch(o,{method:"POST",body:JSON.stringify({userName:c,password:r}),headers:{"Content-Type":"application/json"}}).then((function(e){return _(!1),e.ok?e.json():e.json().then((function(e){var t="Authentication Failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(t){var n=new Date((new Date).getTime()+36e6);h.login(t.token,n.toISOString()),e.replace("/")})).catch((function(e){alert(e.message)}));case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(f.jsxs)("section",{className:m.a.auth,children:[Object(f.jsx)("h1",{children:w?"Login":"Sign Up"}),Object(f.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[!w&&Object(f.jsxs)("div",{className:m.a.control,children:[Object(f.jsx)("label",{htmlFor:"firstName",children:"Your First Name"}),Object(f.jsx)("input",{type:"firstName",id:"firstName",required:!0,ref:p})]}),!w&&Object(f.jsxs)("div",{className:m.a.control,children:[Object(f.jsx)("label",{htmlFor:"lastName",children:"Your Last Name"}),Object(f.jsx)("input",{type:"name",id:"LastName",required:!0,ref:O})]}),Object(f.jsxs)("div",{className:m.a.control,children:[Object(f.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(f.jsx)("input",{type:"userName",id:"userName",required:!0,ref:b})]}),Object(f.jsxs)("div",{className:m.a.control,children:[Object(f.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(f.jsx)("input",{type:o?"text":"password",id:"password",required:!0,ref:d})]}),Object(f.jsx)("input",{type:"checkbox",onClick:function(){o&&u(!1),o||u(!0)}})," Show Password",Object(f.jsxs)("div",{className:m.a.actions,children:[!S&&Object(f.jsx)("button",{children:w?"Login":"Create Account"}),S&&Object(f.jsx)("p",{children:"Sending Request...."}),Object(f.jsx)("button",{type:"button",className:m.a.toggle,onClick:function(){N((function(e){return!e}))},children:w?"Create new account":"Login with existing account"})]})]})]})};t.default=function(){return Object(f.jsx)(b,{})}}}]);
//# sourceMappingURL=5.d07f4d15.chunk.js.map