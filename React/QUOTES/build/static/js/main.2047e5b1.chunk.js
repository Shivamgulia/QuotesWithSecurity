(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c,a=n(15),o=n(0),i=n.n(o),r=n(1),s=i.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),l=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},u=function(e){var t,n=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=l(t);return n<=3600?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}}();n&&(t=n.token);var i=Object(o.useState)(t),u=Object(a.a)(i,2),j=u[0],b=u[1],d=!!j,x=Object(o.useCallback)((function(){b(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),c&&clearTimeout(c)}),[]);Object(o.useEffect)((function(){n&&(c=setTimeout(x,n.duration))}),[n,x]);var h={token:j,isLoggedIn:d,login:function(e,t){b(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=l(t);c=setTimeout(x,n)},logout:x};return Object(r.jsx)(s.Provider,{value:h,children:e.children})};t.b=s},16:function(e,t,n){"use strict";var c=n(21),a=n.n(c),o=n(1);t.a=function(){return Object(o.jsx)("div",{className:a.a.spinner})}},18:function(e,t,n){e.exports={main:"Layout_main__auk_r"}},21:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},31:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(17),a=n.n(c),o=n(7),i=n(10),r=(n(31),n(0)),s=n.n(r),l=n(2),u=n(18),j=n.n(u),b=n(9),d=n.n(b),x=n(1),h=function(){var e=Object(r.useContext)(i.b),t=e.isLoggedIn;return Object(x.jsxs)("header",{className:d.a.header,children:[Object(x.jsx)("div",{className:d.a.logo,children:"Great Quote"}),Object(x.jsx)("nav",{className:d.a.nav,children:Object(x.jsxs)("ul",{children:[t&&Object(x.jsx)("li",{children:Object(x.jsx)(o.c,{to:"/quotes",activeClassName:d.a.active,children:"All Quotes"})}),t&&Object(x.jsx)("li",{children:Object(x.jsx)(o.c,{to:"/new-quote",activeClassName:d.a.active,children:"Add Quote"})}),t&&Object(x.jsx)("li",{children:Object(x.jsx)(o.c,{to:"/new-quote",activeClassName:d.a.active,onClick:function(){e.logout()},children:"Logout"})})]})})]})},O=function(e){return Object(x.jsxs)(r.Fragment,{children:[Object(x.jsx)(h,{}),Object(x.jsx)("main",{className:j.a.main,children:e.children})]})},m=n(16);var g=function(){var e=s.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,266))})),t=s.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,268))})),c=s.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,267))})),a=s.a.lazy((function(){return n.e(9).then(n.bind(null,265))})),o=s.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,269))})),u=Object(r.useContext)(i.b).isLoggedIn;return Object(x.jsx)(O,{children:Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)("div",{className:"centered",children:Object(x.jsx)(m.a,{})}),children:Object(x.jsxs)(l.e,{children:[Object(x.jsxs)(l.c,{path:"/",exact:!0,children:[u&&Object(x.jsx)(l.b,{to:"/quotes"}),!u&&Object(x.jsx)(l.b,{to:"/auth"})]}),Object(x.jsxs)(l.c,{path:"/auth",children:[u&&Object(x.jsx)(l.b,{to:"/quotes"}),!u&&Object(x.jsx)(o,{})]}),Object(x.jsxs)(l.c,{path:"/quotes/:quoteId",children:[u&&Object(x.jsx)(e,{}),!u&&Object(x.jsx)(l.b,{to:"/auth"})]}),Object(x.jsxs)(l.c,{path:"/quotes",children:[u&&Object(x.jsx)(c,{}),!u&&Object(x.jsx)(l.b,{to:"/auth"})]}),Object(x.jsxs)(l.c,{path:"/new-quote",exact:!0,children:[u&&Object(x.jsx)(t,{}),!u&&Object(x.jsx)(l.b,{to:"/auth"})]}),Object(x.jsx)(l.c,{path:"*",children:Object(x.jsx)(a,{})})]})})})};a.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(i.a,{children:Object(x.jsx)(o.a,{children:Object(x.jsx)(g,{})})}))},9:function(e,t,n){e.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",nav:"MainNavigation_nav__2KJfX",active:"MainNavigation_active__oN3Ka"}}},[[39,2,4]]]);
//# sourceMappingURL=main.2047e5b1.chunk.js.map