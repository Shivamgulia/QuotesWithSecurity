(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[5],{167:function(e,t){},169:function(e,t){},181:function(e,t){},183:function(e,t){},208:function(e,t){},210:function(e,t){},211:function(e,t){},216:function(e,t){},218:function(e,t){},224:function(e,t){},226:function(e,t){},245:function(e,t){},257:function(e,t){},260:function(e,t){},264:function(e,t,n){e.exports={auth:"AuthForm_auth__2ZSKH",control:"AuthForm_control__1evQ4",actions:"AuthForm_actions__25Vmz",toggle:"AuthForm_toggle__1Wxr6"}},269:function(e,t,n){"use strict";n.r(t);var c=n(58),r=n(15),a=n(59),o=n.n(a),s=n(0),i=n(2),u=n(160),l=n.n(u),j=n(263),b=n.n(j),h=n(10),f=n(264),d=n.n(f),m=n(1),p=function(){var e=Object(i.h)(),t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],u=n[1],j=Object(s.useState)(!1),f=Object(r.a)(j,2),p=f[0],O=f[1],x=Object(s.useContext)(h.b),g=Object(s.useRef)(),N=Object(s.useRef)(),w=Object(s.useRef)(),v=Object(s.useRef)(),y=Object(s.useState)(!0),S=Object(r.a)(y,2),k=S[0],_=S[1],A=Object(s.useState)(!1),C=Object(r.a)(A,2),F=C[0],L=C[1];function T(){return(T=Object(c.a)(o.a.mark((function t(n){var c,r,a,s,i,u,j,b,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!p){t.next=23;break}if(c=g.current.value,r=N.current.value,k){t.next=18;break}return s=w.current.value,i=v.current.value,u=l.a.hashSync(r,10),a="http://ec2-13-233-232-148.ap-south-1.compute.amazonaws.com:8080/v1/signup",j={firstName:s,lastName:i,userName:c,password:u,roles:[5]},t.next=12,fetch(a,{method:"POST",body:JSON.stringify(j),headers:{"Content-Type":"application/json"}});case 12:return b=t.sent,t.next=15,b.json();case 15:if(h=t.sent,b.ok){t.next=18;break}throw new Error(h.message||"Could not add comment.");case 18:L(!0),a="http://ec2-13-233-232-148.ap-south-1.compute.amazonaws.com:8080/api/v1/auth/login",fetch(a,{method:"POST",body:JSON.stringify({userName:c,password:r}),headers:{"Content-Type":"application/json"}}).then((function(e){return L(!1),e.ok?e.json():e.json().then((function(e){var t="Authentication Failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(t){var n=new Date((new Date).getTime()+36e6);x.login(t.token,n.toISOString()),e.replace("/")})).catch((function(e){alert(e.message)})),t.next=24;break;case 23:alert("Verify that you are not a robot");case 24:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(m.jsxs)("section",{className:d.a.auth,children:[Object(m.jsx)("h1",{children:k?"Login":"Sign Up"}),Object(m.jsxs)("form",{onSubmit:function(e){return T.apply(this,arguments)},children:[!k&&Object(m.jsxs)("div",{className:d.a.control,children:[Object(m.jsx)("label",{htmlFor:"firstName",children:"Your First Name"}),Object(m.jsx)("input",{type:"firstName",id:"firstName",required:!0,ref:w})]}),!k&&Object(m.jsxs)("div",{className:d.a.control,children:[Object(m.jsx)("label",{htmlFor:"lastName",children:"Your Last Name"}),Object(m.jsx)("input",{type:"name",id:"LastName",required:!0,ref:v})]}),Object(m.jsxs)("div",{className:d.a.control,children:[Object(m.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(m.jsx)("input",{type:"userName",id:"userName",required:!0,ref:g})]}),Object(m.jsxs)("div",{className:d.a.control,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(m.jsx)("input",{type:a?"text":"password",id:"password",required:!0,ref:N})]}),Object(m.jsx)("input",{type:"checkbox",onClick:function(){a&&u(!1),a||u(!0)}})," Show Password",Object(m.jsxs)("div",{className:d.a.actions,children:[Object(m.jsx)("div",{children:Object(m.jsx)(b.a,{sitekey:"6Lc-ulQiAAAAABhKNCmKmoGU_KlxbzPT0FXWxSBx",render:"explicit",verifyCallback:function(){O(!0)},onloadCallback:function(){O(!1)}})}),Object(m.jsx)("br",{}),!F&&Object(m.jsx)("button",{children:k?"Login":"Create Account"}),F&&Object(m.jsx)("p",{children:"Sending Request...."}),Object(m.jsx)("button",{type:"button",className:d.a.toggle,onClick:function(){_((function(e){return!e}))},children:k?"Create new account":"Login with existing account"})]})]})]})};t.default=function(){return Object(m.jsx)(p,{})}}}]);
//# sourceMappingURL=5.bca3e594.chunk.js.map